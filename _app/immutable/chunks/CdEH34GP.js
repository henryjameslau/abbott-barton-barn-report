import{k as G,h as N,a as H,V,l as z,W as Q,X as W,n as X,s as Y,Y as q,Q as B,Z as m,_ as j,o as J,$ as K,a0 as k,d as O,a1 as x,a2 as C,R as p,a3 as Z,g as I,a4 as aa,B as ea,a5 as w,a6 as ra,a7 as sa,a8 as na,i as M,a9 as ia,aa as fa,ab as ua,ac as ta,ad as la,ae as ca,U as _a,af as va,ag as ba,ah as da}from"./B9xGxy6i.js";import{s as Ia,g as Sa}from"./BRWZnJpP.js";function Pa(a,e,[s,r]=[0,0]){N&&s===0&&H();var f=a,n=null,u=null,d=j,g=s>0?V:0,l=!1;const R=(t,c=!0)=>{l=!0,b(c,t)},b=(t,c)=>{if(d===(d=t))return;let S=!1;if(N&&r!==-1){if(s===0){const _=f.data;_===z?r=0:_===Q?r=1/0:(r=parseInt(_.substring(1)),r!==r&&(r=d?1/0:-1))}const E=r>s;!!d===E&&(f=W(),X(f),Y(!1),S=!0,r=-1)}d?(n?q(n):c&&(n=B(()=>c(f))),u&&m(u,()=>{u=null})):(u?q(u):c&&(u=B(()=>c(f,[s+1,r]))),n&&m(n,()=>{n=null})),S&&Y(!0)};G(()=>{l=!1,e(R),l||b(null,null)},g),N&&(f=J)}function $(a,e){return a===e||(a==null?void 0:a[C])===e}function Ra(a={},e,s,r){return K(()=>{var f,n;return k(()=>{f=n,n=[],O(()=>{a!==s(...n)&&(e(a,...n),f&&$(s(...f),a)&&e(null,...f))})}),()=>{x(()=>{n&&$(s(...n),a)&&e(null,...n)})}}),a}let P=!1,D=Symbol();function Ta(a,e,s){const r=s[e]??(s[e]={store:null,source:Z(void 0),unsubscribe:p});if(r.store!==a&&!(D in s))if(r.unsubscribe(),r.store=a??null,a==null)r.source.v=void 0,r.unsubscribe=p;else{var f=!0;r.unsubscribe=Ia(a,n=>{f?r.source.v=n:w(r.source,n)}),f=!1}return a&&D in s?Sa(a):I(r.source)}function Aa(){const a={};function e(){aa(()=>{for(var s in a)a[s].unsubscribe();ea(a,D,{enumerable:!1,value:!0})})}return[a,e]}function oa(a){var e=P;try{return P=!1,[a(),P]}finally{P=e}}function y(a){var e;return((e=a.ctx)==null?void 0:e.d)??!1}function ha(a,e,s,r){var U;var f=(s&ba)!==0,n=!_a||(s&va)!==0,u=(s&la)!==0,d=(s&da)!==0,g=!1,l;u?[l,g]=oa(()=>a[e]):l=a[e];var R=C in a||ca in a,b=u&&(((U=ra(a,e))==null?void 0:U.set)??(R&&e in a&&(i=>a[e]=i)))||void 0,t=r,c=!0,S=!1,E=()=>(S=!0,c&&(c=!1,d?t=O(r):t=r),t);l===void 0&&r!==void 0&&(b&&n&&sa(),l=E(),b&&b(l));var _;if(n)_=()=>{var i=a[e];return i===void 0?E():(c=!0,S=!1,i)};else{var L=(f?M:ia)(()=>a[e]);L.f|=na,_=()=>{var i=I(L);return i!==void 0&&(t=void 0),i===void 0?t:i}}if((s&fa)===0)return _;if(b){var F=a.$$legacy;return function(i,o){return arguments.length>0?((!n||!o||F||g)&&b(o?_():i),i):_()}}var T=!1,A=Z(l),v=M(()=>{var i=_(),o=I(A);return T?(T=!1,o):A.v=i});return u&&I(v),f||(v.equals=ua),function(i,o){if(arguments.length>0){const h=o?I(v):n&&u?ta(i):i;if(!v.equals(h)){if(T=!0,w(A,h),S&&t!==void 0&&(t=h),y(v))return i;O(()=>I(v))}return i}return y(v)?v.v:I(v)}}export{Aa as a,Ra as b,Pa as i,ha as p,Ta as s};
